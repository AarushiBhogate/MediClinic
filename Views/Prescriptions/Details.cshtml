@model MediClinic.Models.PhysicianAdvice

@{
    var medicines = ViewBag.Medicines as List<MediClinic.Models.PhysicianPrescrip>;
}

<h2>Prescription Details</h2>

<div class="card p-4 shadow-sm">
    <h5>Doctor</h5>
    <p>
        <b>@Model.Schedule?.Physician?.PhysicianName</b>
        (@Model.Schedule?.Physician?.Specialization)
    </p>

    <h5>Appointment</h5>
    <p>
        <b>Date:</b> @Model.Schedule?.Appointment?.AppointmentDate?.ToString("dd MMM yyyy HH:mm") <br />
        <b>Reason:</b> @Model.Schedule?.Appointment?.Reason
    </p>

    <hr />

    <h5>Doctor Advice</h5>
    <p>@Model.Advice</p>

    <hr />

    <h5>Medicines</h5>

    @if (medicines == null || medicines.Count == 0)
    {
        <p class="text-muted">No medicines added.</p>
    }
    else
    {
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Drug</th>
                    <th>Dosage</th>
                    <th>Instructions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var m in medicines)
                {
                    <tr>
                        <td>@m.Drug?.DrugTitle</td>
                        <td>@m.Dosage</td>
                        <td>@m.Prescription</td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <a asp-action="Index" class="btn btn-secondary mt-3">Back</a>
</div>
