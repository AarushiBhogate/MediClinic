@model List<MediClinic.Models.DrugRequest>

@{
    ViewData["Title"] = "Drug Requests";
}

<div class="phys-container">

    <h2 class="phys-title">Drug Requests</h2>
    <p class="phys-subtitle">Request medicines from the clinic inventory</p>

    <div class="d-flex gap-2 mb-3">
        <a class="btn btn-teal" href="/DrugRequest/Create">+ New Request</a>
        <a class="btn btn-outline-teal" href="/Physician/Dashboard">Back</a>
    </div>

    <div class="phys-card">
        <div class="phys-table-wrap">
            <table class="table phys-table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Drugs Requested</th>
                        <th style="width:200px;">Status</th>
                    </tr>
                </thead>

                <tbody>
                    @if (Model != null && Model.Count > 0)
                    {
                        foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.RequestDate</td>
                                <td>@item.DrugsInfoText</td>
                                <td>
                                    @if (item.RequestStatus == "Pending")
                                    {
                                        <span class="badge-soft badge-pending">Pending</span>
                                    }
                                    else if (item.RequestStatus == "Approved")
                                    {
                                        <span class="badge-soft badge-confirmed">Approved</span>
                                    }
                                    else
                                    {
                                        <span class="badge-soft badge-completed">@item.RequestStatus</span>
                                    }
                                </td>
                            </tr>
                        }
                    }
                    else
                    {
                        <tr>
                            <td colspan="3" class="text-center text-muted py-4">
                                No drug requests found.
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

</div>
