@{
    ViewData["Title"] = "Write Advice";
    var schedule = ViewBag.Schedule as MediClinic.Models.Schedule;
}

<div class="phys-container">

    <h2 class="phys-title">Write Advice</h2>
    <p class="phys-subtitle">Add doctor advice for the selected appointment</p>

    <div class="phys-card phys-form">

        <div class="mb-3 phys-info">
            <div><b>Patient:</b> @schedule?.Appointment?.Patient?.PatientName</div>
            <div><b>Criticality:</b> @schedule?.Appointment?.Criticality</div>
            <div><b>Reason:</b> @schedule?.Appointment?.Reason</div>
            <div><b>Note:</b> @schedule?.Appointment?.Note</div>
        </div>

        <hr />

        <form method="post" action="/PhysicianAdvice/Write">
            <input type="hidden" name="scheduleId" value="@schedule?.ScheduleId" />

            <div class="mb-3">
                <label>Advice *</label>
                <textarea class="form-control phys-textarea" name="advice" required></textarea>
            </div>

            <div class="mb-3">
                <label>Doctor Note</label>
                <input class="form-control phys-input" name="note" />
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-teal">
                    Save Advice (Mark Completed)
                </button>

                <a class="btn btn-outline-teal" href="/PhysicianAdvice/Index">Cancel</a>
            </div>
        </form>

    </div>
</div>
