@{
    Layout = "~/Views/Shared/_PhysicianDashboardLayout.cshtml";
}
@{
   
    ViewData["Title"] = "Dashboard";
}
<style>
    .stat-card {
        padding: 22px;
        border-radius: 18px;
        background: white;
        box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        transition: 0.2s ease;
        min-height: 150px; /* smaller */
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    .quick-card {
        background: white;
        padding: 22px;
        border-radius: 18px;
        text-align: center;
        box-shadow: 0 6px 18px rgba(0,0,0,0.05);
        transition: 0.2s ease;
        min-height: 140px;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

</style>
<div class="welcome mb-4">
    <h2>Welcome back, Dr. @Context.Session.GetString("UserName")</h2>
    <p>Here’s what’s happening today.</p>
</div>

<div class="row g-4 mb-5">


    <div class="col-md-4 d-flex">
        <div class="stat-card text-center w-100">

            <div class="stat-number counter" data-target="8">0</div>
            <div class="stat-label">Today’s Appointments</div>
        </div>
    </div>

    <div class="col-md-4 d-flex">
        <div class="stat-card text-center w-100">

            <div class="stat-number counter" data-target="4">0</div>
            <div class="stat-label">Prescriptions Pending</div>
        </div>
    </div>

    <div class="col-md-4 d-flex">
        <div class="stat-card text-center w-100">

            <div class="stat-number counter" data-target="2">0</div>
            <div class="stat-label">Drug Requests</div>
        </div>
    </div>
</div>

<h5 class="mb-4 fw-bold">Quick Actions</h5>

<div class="row g-4 mb-5">


    <div class="col-md-4 d-flex">
        <div class="quick-card w-100" onclick="location.href='/Schedule/MySchedule'">
            <i class="bi bi-calendar2-week"></i>
            <div>Upcoming Schedule</div>
        </div>
    </div>

    <div class="col-md-4 d-flex">
        <div class="quick-card w-100" onclick="location.href='/PhysicianAdvice/Index'">
            <i class="bi bi-file-earmark-medical"></i>
            <div>Write Prescription</div>
        </div>
    </div>

    <div class="col-md-4 d-flex">
        <div class="quick-card w-100" onclick="location.href='/DrugRequest/Index'">
            <i class="bi bi-capsule"></i>
            <div>Request Drug</div>
        </div>
    </div>
</div>

<script>
    const counters = document.querySelectorAll('.counter');
    counters.forEach(counter => {
        const update = () => {
            const target = +counter.getAttribute('data-target');
            const count = +counter.innerText;
            const increment = target / 60;

            if (count < target) {
                counter.innerText = Math.ceil(count + increment);
                setTimeout(update, 20);
            } else {
                counter.innerText = target;
            }
        };
        update();
    });
</script>
