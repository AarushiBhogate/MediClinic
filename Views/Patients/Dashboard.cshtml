@model MediClinic.ViewModels.PatientDashboardViewModel
@{
    Layout = "~/Views/Shared/_PatientLayout.cshtml";
    ViewData["Title"] = "Patient Dashboard";
}

<style>
    .dashboard-wrapper {
        padding: 30px;
    }

    .profile-header {
        background: linear-gradient(135deg,#0f766e,#2563eb);
        color: white;
        padding: 30px;
        border-radius: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        margin-bottom: 30px;
    }

        .profile-header img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid white;
        }

    .stats-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 20px;
        margin-bottom: 30px;
    }

    .stat-card {
        background: white;
        padding: 20px;
        border-radius: 16px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.06);
        transition: 0.3s ease;
        text-align: center;
    }

        .stat-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 35px rgba(0,0,0,0.1);
        }

    .stat-icon {
        font-size: 28px;
        margin-bottom: 8px;
    }

    .appointment-card {
        background: white;
        padding: 25px;
        border-radius: 16px;
        box-shadow: 0 15px 35px rgba(0,0,0,0.06);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .doctor-info {
        display: flex;
        align-items: center;
        gap: 20px;
    }

    .doctor-photo {
        width: 70px;
        height: 70px;
        border-radius: 50%;
    }

    .appointment-details h5 {
        margin-bottom: 5px;
    }

    .appointment-meta {
        font-size: 14px;
        color: #555;
    }

    .btn-view {
        background: #2563eb;
        color: white;
        border-radius: 8px;
        padding: 8px 18px;
        border: none;
    }
</style>

<div class="dashboard-wrapper">

    <!-- PROFILE HEADER -->
    <div class="profile-header">
        <div>
            <h3>Welcome back, @Model.Patient?.PatientName 👋</h3>
            <p>Your complete health overview at a glance.</p>
        </div>

        <!-- Profile Photo -->
        <img src="https://images.unsplash.com/photo-1607746882042-944635dfe10e"
             alt="Patient" />
    </div>

    <!-- STATISTICS CARDS -->
    <div class="stats-grid">

        <div class="stat-card">
            <div class="stat-icon">📅</div>
            <h6>Next Appointment</h6>

            @if (Model.NextAppointment?.AppointmentDate != null)
            {
                <strong>
                    @Model.NextAppointment.AppointmentDate.Value.ToString("dd MMM yyyy")
                </strong>
            }
            else
            {
                <strong>No Appointment</strong>
            }
        </div>

        <div class="stat-card">
            <div class="stat-icon">💊</div>
            <h6>Prescriptions</h6>
            <strong>@Model.TotalPrescriptions</strong>
        </div>

        <div class="stat-card">
            <div class="stat-icon">📝</div>
            <h6>Pending Requests</h6>
            <strong>@Model.PendingDrugRequests</strong>
        </div>

        <div class="stat-card">
            <div class="stat-icon">✔</div>
            <h6>Status</h6>
            <strong>Active</strong>
        </div>

    </div>

    <!-- UPCOMING APPOINTMENT SECTION -->
    @if (Model.NextAppointment?.AppointmentDate != null)
    {
        <div class="appointment-card">

            <div class="doctor-info">

                <!-- Doctor Image -->
                <img src="https://images.unsplash.com/photo-1537368910025-700350fe46c7"
                     class="doctor-photo" />

                <div class="appointment-details">
                    <h5>Upcoming Appointment</h5>

                    <div class="appointment-meta">
                        <div>
                            <strong>Date:</strong>
                            @Model.NextAppointment.AppointmentDate.Value.ToString("dd MMM yyyy")
                        </div>

                        <div>
                            <strong>Time:</strong>
                            @Model.NextAppointment.AppointmentDate.Value.ToString("hh:mm tt")
                        </div>

                        <div>
                            <strong>Status:</strong>
                            @Model.NextAppointment.ScheduleStatus
                        </div>

                        <div>
                            <strong>Reason:</strong>
                            @Model.NextAppointment.Reason
                        </div>
                    </div>
                </div>

            </div>

            <button class="btn-view">View Details</button>

        </div>
    }

</div>













